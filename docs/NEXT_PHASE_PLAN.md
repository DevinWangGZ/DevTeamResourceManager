# 下一步工作计划

> **当前状态**：阶段0已完成，阶段1.2（任务系统核心流程）已完成
> **下一步**：继续完成阶段1的剩余任务

## 当前进度总结

### ✅ 已完成功能

**阶段0：基础搭建**
- ✅ 项目初始化（前后端项目结构）
- ✅ 数据库设计和初始化
- ✅ 用户认证系统（登录、注册、JWT）
- ✅ 基础权限管理（角色管理）
- ✅ 前后端联调环境搭建
- ✅ 字符编码问题修复

**阶段1.2：任务系统核心流程**
- ✅ 任务创建（草稿状态）
- ✅ 任务发布
- ✅ 任务认领（主动认领）
- ✅ 任务派发（PM派发给开发人员）
- ✅ 任务评估（接受/拒绝）
- ✅ 任务提交（填写实际投入人天）
- ✅ 任务确认（PM确认）
- ✅ 任务排期（自动计算，排除节假日）
- ✅ 任务置顶（自动调整排期）
- ✅ 任务详情页
- ✅ 任务搜索和筛选

## 下一步工作计划

### 阶段1.1：人员档案管理（优先级：P0，预计1周）

**功能清单**：
1. **技能管理**
   - [ ] 后端API：技能CRUD接口
   - [ ] 前端页面：技能列表、添加/编辑技能表单
   - [ ] 技能熟练度选择（熟悉/熟练/精通）

2. **业务履历管理**
   - [ ] 后端API：履历CRUD接口
   - [ ] 前端页面：履历列表、添加/编辑履历表单
   - [ ] 履历字段：项目、模块、角色、贡献描述、投入人天

3. **序列管理**
   - [ ] 后端API：序列等级和单价管理接口
   - [ ] 前端页面：序列管理表单
   - [ ] 序列信息展示

4. **个人信息管理**
   - [ ] 完善用户信息编辑功能
   - [ ] 状态标签设置

**技术要点**：
- 后端：`skills`、`experiences`、`user_sequences` 表的CRUD API
- 前端：个人档案页面，技能/履历/序列管理组件
- 权限：用户只能管理自己的档案

**验收标准**：
- [ ] 用户可以添加/修改/删除技能
- [ ] 用户可以添加/修改/删除业务履历
- [ ] 用户可以设置序列等级和单价
- [ ] 数据保存和展示正常

---

### 阶段1.3：工作量统计基础（优先级：P0，预计1周）

**功能清单**：
1. **工作量统计服务**
   - [ ] 任务确认后自动更新工作量统计
   - [ ] 按开发者统计工作量
   - [ ] 按项目/模块统计工作量
   - [ ] 按时间周期统计工作量

2. **工作量统计API**
   - [ ] 获取开发者工作量统计
   - [ ] 获取项目工作量统计
   - [ ] 获取时间周期工作量统计

3. **工作量展示页面**
   - [ ] 个人工作量统计页面
   - [ ] 工作量列表展示
   - [ ] 基础数据卡片

**技术要点**：
- 后端：工作量统计服务，任务确认时触发统计更新
- 数据库：`workload_statistics` 表
- 前端：工作量统计页面

**验收标准**：
- [ ] 任务确认后工作量自动更新
- [ ] 工作量数据准确
- [ ] 可以按不同维度查看工作量

---

### 阶段1.4：基础仪表盘（优先级：P0，预计1周）

**功能清单**：
1. **开发人员个人工作台**
   - [ ] 我的任务列表（进行中、待提交、已完成）
   - [ ] 工作量概览
   - [ ] 待办提醒
   - [ ] 快速操作入口

2. **项目经理项目仪表盘**
   - [ ] 项目任务列表
   - [ ] 待确认任务列表
   - [ ] 项目进度概览
   - [ ] 项目产值概览

3. **开发组长团队仪表盘**
   - [ ] 团队任务概览
   - [ ] 团队负荷概览
   - [ ] 团队工作量统计

**技术要点**：
- 后端：仪表盘数据聚合接口
- 前端：仪表盘页面，数据卡片组件
- 权限：根据角色显示不同的仪表盘

**验收标准**：
- [ ] 各角色能看到对应的仪表盘
- [ ] 数据展示准确
- [ ] 关键信息一目了然

---

## 开发顺序建议

### 第一优先级：人员档案管理（阶段1.1）

**理由**：
- 这是P0核心功能，用户需要管理自己的档案
- 相对独立，不影响其他功能
- 完成后可以立即使用

**开发步骤**：
1. 后端API开发（2-3天）
   - 技能管理API
   - 业务履历管理API
   - 序列管理API
   - 个人信息更新API

2. 前端页面开发（2-3天）
   - 个人档案页面
   - 技能管理组件
   - 履历管理组件
   - 序列管理组件

3. 联调测试（1天）
   - 前后端联调
   - 功能测试
   - Bug修复

### 第二优先级：工作量统计基础（阶段1.3）

**理由**：
- 任务系统已完成，需要统计功能
- 为后续可视化打基础
- 相对简单，主要是数据统计

**开发步骤**：
1. 后端统计服务（2-3天）
   - 工作量统计服务
   - 任务确认时触发统计
   - 统计API接口

2. 前端展示页面（2-3天）
   - 工作量统计页面
   - 数据卡片组件

3. 联调测试（1天）

### 第三优先级：基础仪表盘（阶段1.4）

**理由**：
- 整合已有功能，提供统一入口
- 提升用户体验
- 为后续增强功能打基础

**开发步骤**：
1. 后端数据聚合（2-3天）
   - 仪表盘数据接口
   - 数据聚合逻辑

2. 前端仪表盘页面（2-3天）
   - 个人工作台
   - 项目仪表盘
   - 团队仪表盘

3. 联调测试（1天）

---

## 详细任务分解

### 任务1：技能管理功能

**后端任务**：
- [ ] 创建 `backend/app/schemas/skill.py` - 技能Schemas
- [ ] 创建 `backend/app/api/v1/endpoints/skills.py` - 技能API端点
- [ ] 创建 `backend/app/services/skill_service.py` - 技能服务
- [ ] 注册技能路由

**前端任务**：
- [ ] 创建 `frontend/src/api/skill.ts` - 技能API调用
- [ ] 创建 `frontend/src/views/Profile.vue` - 个人档案页面
- [ ] 创建 `frontend/src/components/business/SkillList.vue` - 技能列表组件
- [ ] 创建 `frontend/src/components/business/SkillForm.vue` - 技能表单组件

### 任务2：业务履历管理功能

**后端任务**：
- [ ] 创建 `backend/app/schemas/experience.py` - 履历Schemas
- [ ] 创建 `backend/app/api/v1/endpoints/experiences.py` - 履历API端点
- [ ] 创建 `backend/app/services/experience_service.py` - 履历服务
- [ ] 注册履历路由

**前端任务**：
- [ ] 创建 `frontend/src/api/experience.ts` - 履历API调用
- [ ] 创建 `frontend/src/components/business/ExperienceList.vue` - 履历列表组件
- [ ] 创建 `frontend/src/components/business/ExperienceForm.vue` - 履历表单组件

### 任务3：序列管理功能

**后端任务**：
- [ ] 创建 `backend/app/schemas/user_sequence.py` - 序列Schemas
- [ ] 创建 `backend/app/api/v1/endpoints/user_sequences.py` - 序列API端点
- [ ] 创建 `backend/app/services/user_sequence_service.py` - 序列服务
- [ ] 注册序列路由

**前端任务**：
- [ ] 创建 `frontend/src/api/userSequence.ts` - 序列API调用
- [ ] 创建 `frontend/src/components/business/SequenceForm.vue` - 序列表单组件

### 任务4：工作量统计功能

**后端任务**：
- [ ] 创建 `backend/app/services/workload_service.py` - 工作量统计服务
- [ ] 在任务确认时触发工作量统计更新
- [ ] 创建 `backend/app/api/v1/endpoints/workload.py` - 工作量统计API
- [ ] 注册工作量路由

**前端任务**：
- [ ] 创建 `frontend/src/api/workload.ts` - 工作量API调用
- [ ] 创建 `frontend/src/views/Workload.vue` - 工作量统计页面

### 任务5：基础仪表盘

**后端任务**：
- [ ] 创建 `backend/app/api/v1/endpoints/dashboard.py` - 仪表盘API
- [ ] 创建仪表盘数据聚合服务
- [ ] 注册仪表盘路由

**前端任务**：
- [ ] 创建 `frontend/src/views/Dashboard.vue` - 个人工作台
- [ ] 创建 `frontend/src/views/ProjectDashboard.vue` - 项目仪表盘
- [ ] 创建 `frontend/src/views/TeamDashboard.vue` - 团队仪表盘
- [ ] 创建数据卡片组件

---

## 时间估算

| 任务 | 后端开发 | 前端开发 | 联调测试 | 总计 |
|------|---------|---------|---------|------|
| 人员档案管理 | 2-3天 | 2-3天 | 1天 | 5-7天 |
| 工作量统计 | 2-3天 | 2天 | 1天 | 5-6天 |
| 基础仪表盘 | 2-3天 | 2-3天 | 1天 | 5-7天 |
| **总计** | **6-9天** | **6-8天** | **3天** | **15-20天** |

---

## 里程碑

### 里程碑1：人员档案管理完成（预计1周后）
- ✅ 用户可以管理自己的技能
- ✅ 用户可以管理自己的业务履历
- ✅ 用户可以设置序列等级和单价

### 里程碑2：工作量统计完成（预计2周后）
- ✅ 任务确认后工作量自动统计
- ✅ 可以查看个人工作量统计

### 里程碑3：基础仪表盘完成（预计3周后）
- ✅ 各角色有对应的仪表盘
- ✅ 关键信息一目了然
- ✅ 系统可以开始小规模试用

---

## 注意事项

1. **数据一致性**
   - 任务确认后必须准确更新工作量统计
   - 序列信息修改后影响产值计算

2. **权限控制**
   - 用户只能管理自己的档案
   - 管理员可以查看所有数据

3. **用户体验**
   - 操作流程要简单
   - 关键操作有明确反馈
   - 数据展示要清晰

4. **性能优化**
   - 列表查询要分页
   - 统计数据要缓存（可选）
   - 避免N+1查询问题

---

## 下一步行动

**立即开始**：阶段1.1 - 人员档案管理

**第一步**：创建技能管理后端API
1. 创建技能Schemas
2. 创建技能服务
3. 创建技能API端点
4. 测试API功能

**建议**：按照任务分解逐步实现，每完成一个功能就进行测试，确保质量。
